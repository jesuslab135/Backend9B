[2025-11-04 10:45:22] [DEBUG] [django.db.backends:151] (0.016) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-04 10:45:22] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-04 10:45:40] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/register/ | Action: register
[2025-11-04 10:45:40] [DEBUG] [django.db.backends:151] (0.000) SELECT 1 AS "a" FROM "usuarios" WHERE "usuarios"."email" = 'esteban321@gmail.com' LIMIT 1; args=(Int4(1), 'esteban321@gmail.com'); alias=default
[2025-11-04 10:45:40] [DEBUG] [django.db.backends:181] (0.000) BEGIN; args=None; alias=default
[2025-11-04 10:45:41] [DEBUG] [django.db.backends:151] (0.016) INSERT INTO "usuarios" ("created_at", "updated_at", "nombre", "telefono", "email", "password_hash", "rol") VALUES ('2025-11-04 18:45:41.007559+00:00'::timestamptz, '2025-11-04 18:45:41.007559+00:00'::timestamptz, 'esteban', '6549877649', 'esteban321@gmail.com', 'pbkdf2_sha256$1000000$r78fmklP00vKvR1BUoMCS2$/uzAY0b9FReu4zGR4pwRtUCFlZIDE8PBr2l+udoLAbw=', 'consumidor') RETURNING "usuarios"."id"; args=(datetime.datetime(2025, 11, 4, 18, 45, 41, 7559, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 4, 18, 45, 41, 7559, tzinfo=datetime.timezone.utc), 'esteban', '6549877649', 'esteban321@gmail.com', 'pbkdf2_sha256$1000000$r78fmklP00vKvR1BUoMCS2$/uzAY0b9FReu4zGR4pwRtUCFlZIDE8PBr2l+udoLAbw=', 'consumidor'); alias=default
[2025-11-04 10:45:41] [DEBUG] [django.db.backends:151] (0.000) INSERT INTO "consumidores" ("created_at", "updated_at", "usuario_id", "edad", "peso", "altura", "bmi", "genero") VALUES ('2025-11-04 18:45:41.017080+00:00'::timestamptz, '2025-11-04 18:45:41.017080+00:00'::timestamptz, 17, NULL, NULL, NULL, NULL, 'masculino') RETURNING "consumidores"."id"; args=(datetime.datetime(2025, 11, 4, 18, 45, 41, 17080, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 4, 18, 45, 41, 17080, tzinfo=datetime.timezone.utc), 17, None, None, None, None, GeneroChoices.MASCULINO); alias=default
[2025-11-04 10:45:41] [INFO] [api.services.user_factory:76] Created Consumidor: esteban321@gmail.com (ID: 17, Profile ID: 9)
[2025-11-04 10:45:41] [DEBUG] [django.db.backends:181] (0.000) COMMIT; args=None; alias=default
[2025-11-04 10:45:41] [INFO] [api.views.UsuarioViewSet:108] [register] New user registered: esteban321@gmail.com (rol: consumidor)
[2025-11-04 10:45:41] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 201 | Action: register
[2025-11-05 09:48:55] [DEBUG] [django.db.backends:151] (0.000) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 09:48:55] [DEBUG] [django.db.backends:151] (0.016) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 09:49:20] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/login/ | Action: login
[2025-11-05 09:49:21] [DEBUG] [django.db.backends:151] (0.016) SELECT "usuarios"."id", "usuarios"."created_at", "usuarios"."updated_at", "usuarios"."nombre", "usuarios"."telefono", "usuarios"."email", "usuarios"."password_hash", "usuarios"."rol" FROM "usuarios" WHERE "usuarios"."email" = 'esteban5342@gmail.com' LIMIT 21; args=('esteban5342@gmail.com',); alias=default
[2025-11-05 09:49:21] [WARNING] [api.services.auth_service:90] Failed login: esteban5342@gmail.com (user not found)
[2025-11-05 09:49:21] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ— Response: 401 | Action: login
[2025-11-05 09:49:46] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ GET /api/usuarios/login/ | Action: None
[2025-11-05 09:49:46] [DEBUG] [django.db.backends:151] (0.016) SELECT "django_session"."session_key", "django_session"."session_data", "django_session"."expire_date" FROM "django_session" WHERE ("django_session"."expire_date" > '2025-11-05 17:49:46.855561+00:00'::timestamptz AND "django_session"."session_key" = 'qldskedda7o2s2y3hiwcbmsczpvfu7e4') LIMIT 21; args=(datetime.datetime(2025, 11, 5, 17, 49, 46, 855561, tzinfo=datetime.timezone.utc), 'qldskedda7o2s2y3hiwcbmsczpvfu7e4'); alias=default
[2025-11-05 09:49:46] [DEBUG] [django.db.backends:151] (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 1 LIMIT 21; args=(1,); alias=default
[2025-11-05 09:49:46] [ERROR] [api.views.UsuarioViewSet:210] [log_exception] MethodNotAllowed: Method "GET" not allowed. | Context: action=None, view=UsuarioViewSet
Traceback (most recent call last):
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 512, in dispatch
    response = handler(request, *args, **kwargs)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 173, in http_method_not_allowed
    raise exceptions.MethodNotAllowed(request.method)
rest_framework.exceptions.MethodNotAllowed: Method "GET" not allowed.
[2025-11-05 09:49:48] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ— Response: 405 | Action: None
[2025-11-05 09:50:21] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/login/ | Action: login
[2025-11-05 09:50:21] [DEBUG] [django.db.backends:151] (0.000) SELECT "usuarios"."id", "usuarios"."created_at", "usuarios"."updated_at", "usuarios"."nombre", "usuarios"."telefono", "usuarios"."email", "usuarios"."password_hash", "usuarios"."rol" FROM "usuarios" WHERE "usuarios"."email" = 'esteban321@gmail.com' LIMIT 21; args=('esteban321@gmail.com',); alias=default
[2025-11-05 09:50:21] [DEBUG] [django.db.backends:151] (0.000) SELECT "consumidores"."id", "consumidores"."created_at", "consumidores"."updated_at", "consumidores"."usuario_id", "consumidores"."edad", "consumidores"."peso", "consumidores"."altura", "consumidores"."bmi", "consumidores"."genero" FROM "consumidores" WHERE "consumidores"."usuario_id" = 17 LIMIT 21; args=(17,); alias=default
[2025-11-05 09:50:21] [INFO] [api.services.auth_service:86] Successful login: esteban321@gmail.com (rol: consumidor)
[2025-11-05 09:50:21] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 200 | Action: login
[2025-11-05 09:51:35] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/login/ | Action: login
[2025-11-05 09:51:35] [DEBUG] [django.db.backends:151] (0.000) SELECT "usuarios"."id", "usuarios"."created_at", "usuarios"."updated_at", "usuarios"."nombre", "usuarios"."telefono", "usuarios"."email", "usuarios"."password_hash", "usuarios"."rol" FROM "usuarios" WHERE "usuarios"."email" = 'esteban321@gmail.com' LIMIT 21; args=('esteban321@gmail.com',); alias=default
[2025-11-05 09:51:35] [DEBUG] [django.db.backends:151] (0.000) SELECT "consumidores"."id", "consumidores"."created_at", "consumidores"."updated_at", "consumidores"."usuario_id", "consumidores"."edad", "consumidores"."peso", "consumidores"."altura", "consumidores"."bmi", "consumidores"."genero" FROM "consumidores" WHERE "consumidores"."usuario_id" = 17 LIMIT 21; args=(17,); alias=default
[2025-11-05 09:51:35] [INFO] [api.services.auth_service:86] Successful login: esteban321@gmail.com (rol: consumidor)
[2025-11-05 09:51:35] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 200 | Action: login
[2025-11-05 09:53:58] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/login/ | Action: login
[2025-11-05 09:53:58] [DEBUG] [django.db.backends:151] (0.000) SELECT "usuarios"."id", "usuarios"."created_at", "usuarios"."updated_at", "usuarios"."nombre", "usuarios"."telefono", "usuarios"."email", "usuarios"."password_hash", "usuarios"."rol" FROM "usuarios" WHERE "usuarios"."email" = 'esteban321@gmail.com' LIMIT 21; args=('esteban321@gmail.com',); alias=default
[2025-11-05 09:53:59] [DEBUG] [django.db.backends:151] (0.000) SELECT "consumidores"."id", "consumidores"."created_at", "consumidores"."updated_at", "consumidores"."usuario_id", "consumidores"."edad", "consumidores"."peso", "consumidores"."altura", "consumidores"."bmi", "consumidores"."genero" FROM "consumidores" WHERE "consumidores"."usuario_id" = 17 LIMIT 21; args=(17,); alias=default
[2025-11-05 09:53:59] [INFO] [api.services.auth_service:86] Successful login: esteban321@gmail.com (rol: consumidor)
[2025-11-05 09:53:59] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 200 | Action: login
[2025-11-05 10:17:40] [DEBUG] [django.db.backends:151] (0.016) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:17:40] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:17:56] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/register/ | Action: register
[2025-11-05 10:17:56] [DEBUG] [django.db.backends:151] (0.016) SELECT 1 AS "a" FROM "usuarios" WHERE "usuarios"."email" = 'testjwt8267@test.com' LIMIT 1; args=(Int4(1), 'testjwt8267@test.com'); alias=default
[2025-11-05 10:17:56] [DEBUG] [django.db.backends:181] (0.000) BEGIN; args=None; alias=default
[2025-11-05 10:17:57] [DEBUG] [django.db.backends:151] (0.016) INSERT INTO "usuarios" ("created_at", "updated_at", "nombre", "telefono", "email", "password_hash", "rol") VALUES ('2025-11-05 18:17:57.003728+00:00'::timestamptz, '2025-11-05 18:17:57.003728+00:00'::timestamptz, 'JWT Test User', '1234567890', 'testjwt8267@test.com', 'pbkdf2_sha256$1000000$y9C8UpZuJpbMD1DbaZbULk$UiYE+H/dBvrjTzIOGaqm0PKpjtPytdd+DKDGg2FrVhg=', 'consumidor') RETURNING "usuarios"."id"; args=(datetime.datetime(2025, 11, 5, 18, 17, 57, 3728, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 5, 18, 17, 57, 3728, tzinfo=datetime.timezone.utc), 'JWT Test User', '1234567890', 'testjwt8267@test.com', 'pbkdf2_sha256$1000000$y9C8UpZuJpbMD1DbaZbULk$UiYE+H/dBvrjTzIOGaqm0PKpjtPytdd+DKDGg2FrVhg=', 'consumidor'); alias=default
[2025-11-05 10:17:57] [DEBUG] [django.db.backends:151] (0.015) INSERT INTO "consumidores" ("created_at", "updated_at", "usuario_id", "edad", "peso", "altura", "bmi", "genero") VALUES ('2025-11-05 18:17:57.015724+00:00'::timestamptz, '2025-11-05 18:17:57.015724+00:00'::timestamptz, 18, NULL, NULL, NULL, NULL, 'masculino') RETURNING "consumidores"."id"; args=(datetime.datetime(2025, 11, 5, 18, 17, 57, 15724, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 5, 18, 17, 57, 15724, tzinfo=datetime.timezone.utc), 18, None, None, None, None, 'masculino'); alias=default
[2025-11-05 10:17:57] [INFO] [api.services.user_factory:76] Created Consumidor: testjwt8267@test.com (ID: 18, Profile ID: 10)
[2025-11-05 10:17:57] [DEBUG] [django.db.backends:181] (0.000) COMMIT; args=None; alias=default
[2025-11-05 10:17:57] [INFO] [api.views.UsuarioViewSet:149] [register] New user registered: testjwt8267@test.com (rol: consumidor)
[2025-11-05 10:17:57] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 201 | Action: register
[2025-11-05 10:17:59] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/login/ | Action: login
[2025-11-05 10:17:59] [DEBUG] [django.db.backends:151] (0.000) SELECT "usuarios"."id", "usuarios"."created_at", "usuarios"."updated_at", "usuarios"."nombre", "usuarios"."telefono", "usuarios"."email", "usuarios"."password_hash", "usuarios"."rol" FROM "usuarios" WHERE "usuarios"."email" = 'testjwt8267@test.com' LIMIT 21; args=('testjwt8267@test.com',); alias=default
[2025-11-05 10:18:00] [DEBUG] [django.db.backends:151] (0.000) SELECT "consumidores"."id", "consumidores"."created_at", "consumidores"."updated_at", "consumidores"."usuario_id", "consumidores"."edad", "consumidores"."peso", "consumidores"."altura", "consumidores"."bmi", "consumidores"."genero" FROM "consumidores" WHERE "consumidores"."usuario_id" = 18 LIMIT 21; args=(18,); alias=default
[2025-11-05 10:18:00] [INFO] [api.services.auth_service:123] Successful login: testjwt8267@test.com (rol: consumidor)
[2025-11-05 10:18:00] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 200 | Action: login
[2025-11-05 10:18:02] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ GET /api/usuarios/18/ | Action: retrieve
[2025-11-05 10:18:02] [DEBUG] [django.db.backends:151] (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 18 LIMIT 21; args=(18,); alias=default
[2025-11-05 10:18:02] [ERROR] [api.views.UsuarioViewSet:210] [log_exception] AuthenticationFailed: {'detail': ErrorDetail(string='User not found', code='authentication_failed'), 'code': ErrorDetail(string='user_not_found', code='authentication_failed')} | Context: action=retrieve, view=UsuarioViewSet
Traceback (most recent call last):
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework_simplejwt\authentication.py", line 132, in get_user
    user = self.user_model.objects.get(**{api_settings.USER_ID_FIELD: user_id})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
django.contrib.auth.models.User.DoesNotExist: User matching query does not exist.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 503, in dispatch
    self.initial(request, *args, **kwargs)
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\sentry_sdk\integrations\django\__init__.py", line 332, in sentry_patched_drf_initial
    return old_drf_initial(self, request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 420, in initial
    self.perform_authentication(request)
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 330, in perform_authentication
    request.user
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\request.py", line 232, in user
    self._authenticate()
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\request.py", line 385, in _authenticate
    user_auth_tuple = authenticator.authenticate(self)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework_simplejwt\authentication.py", line 51, in authenticate
    return self.get_user(validated_token), validated_token
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework_simplejwt\authentication.py", line 134, in get_user
    raise AuthenticationFailed(
rest_framework_simplejwt.exceptions.AuthenticationFailed: {'detail': ErrorDetail(string='User not found', code='authentication_failed'), 'code': ErrorDetail(string='user_not_found', code='authentication_failed')}
[2025-11-05 10:18:02] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ— Response: 401 | Action: retrieve
[2025-11-05 10:18:04] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ GET /api/usuarios/18/ | Action: retrieve
[2025-11-05 10:18:04] [DEBUG] [django.db.backends:151] (0.000) SELECT "usuarios"."id", "usuarios"."created_at", "usuarios"."updated_at", "usuarios"."nombre", "usuarios"."telefono", "usuarios"."email", "usuarios"."password_hash", "usuarios"."rol" FROM "usuarios" WHERE "usuarios"."id" = 18 LIMIT 21; args=(18,); alias=default
[2025-11-05 10:18:04] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 200 | Action: retrieve
[2025-11-05 10:18:06] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/register/ | Action: register
[2025-11-05 10:18:06] [DEBUG] [django.db.backends:151] (0.000) SELECT 1 AS "a" FROM "usuarios" WHERE "usuarios"."email" = 'testjwt9619@test.com' LIMIT 1; args=(Int4(1), 'testjwt9619@test.com'); alias=default
[2025-11-05 10:18:06] [DEBUG] [django.db.backends:181] (0.000) BEGIN; args=None; alias=default
[2025-11-05 10:18:07] [DEBUG] [django.db.backends:151] (0.000) INSERT INTO "usuarios" ("created_at", "updated_at", "nombre", "telefono", "email", "password_hash", "rol") VALUES ('2025-11-05 18:18:07.199383+00:00'::timestamptz, '2025-11-05 18:18:07.199383+00:00'::timestamptz, 'Test User 2', '', 'testjwt9619@test.com', 'pbkdf2_sha256$1000000$YQXWUSVYfgmnn4tcTW0JUp$dkBqKVE5vcRQ8moJm/nQM6ePC6IdHH0zPMYknJIwfHI=', 'consumidor') RETURNING "usuarios"."id"; args=(datetime.datetime(2025, 11, 5, 18, 18, 7, 199383, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 5, 18, 18, 7, 199383, tzinfo=datetime.timezone.utc), 'Test User 2', '', 'testjwt9619@test.com', 'pbkdf2_sha256$1000000$YQXWUSVYfgmnn4tcTW0JUp$dkBqKVE5vcRQ8moJm/nQM6ePC6IdHH0zPMYknJIwfHI=', 'consumidor'); alias=default
[2025-11-05 10:18:07] [DEBUG] [django.db.backends:151] (0.000) INSERT INTO "consumidores" ("created_at", "updated_at", "usuario_id", "edad", "peso", "altura", "bmi", "genero") VALUES ('2025-11-05 18:18:07.201390+00:00'::timestamptz, '2025-11-05 18:18:07.201390+00:00'::timestamptz, 19, NULL, NULL, NULL, NULL, NULL) RETURNING "consumidores"."id"; args=(datetime.datetime(2025, 11, 5, 18, 18, 7, 201390, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 5, 18, 18, 7, 201390, tzinfo=datetime.timezone.utc), 19, None, None, None, None, None); alias=default
[2025-11-05 10:18:07] [ERROR] [api.services.user_factory:85] Failed to create user: null value in column "genero" of relation "consumidores" violates not-null constraint
DETAIL:  Failing row contains (11, 19, null, null, null, null, 2025-11-05 18:18:07.20139, 2025-11-05 18:18:07.20139, null).
[2025-11-05 10:18:07] [DEBUG] [django.db.backends:181] (0.000) ROLLBACK; args=None; alias=default
[2025-11-05 10:18:07] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ— Response: 400 | Action: register
[2025-11-05 10:19:47] [DEBUG] [django.db.backends:151] (0.000) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:19:47] [DEBUG] [django.db.backends:151] (0.016) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:19:56] [DEBUG] [django.db.backends:151] (0.015) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:19:56] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:21:54] [DEBUG] [django.db.backends:151] (0.016) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:21:54] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:22:22] [DEBUG] [django.db.backends:151] (0.000) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:22:22] [DEBUG] [django.db.backends:151] (0.016) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:22:36] [DEBUG] [django.db.backends:151] (0.016) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:22:36] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:22:36] [DEBUG] [django.db.backends:151] (0.000) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:22:36] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:181] (0.000) BEGIN; args=None; alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends.schema:191] ALTER TABLE "consumidores" ALTER COLUMN "genero" DROP NOT NULL; (params None)
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) ALTER TABLE "consumidores" ALTER COLUMN "genero" DROP NOT NULL; args=None; alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) INSERT INTO "django_migrations" ("app", "name", "applied") VALUES ('api', '0002_alter_consumidor_genero', '2025-11-05 18:22:37.013524+00:00'::timestamptz) RETURNING "django_migrations"."id"; args=('api', '0002_alter_consumidor_genero', datetime.datetime(2025, 11, 5, 18, 22, 37, 13524, tzinfo=datetime.timezone.utc)); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:181] (0.000) COMMIT; args=None; alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'admin'; args=('admin',); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'admin' AND "django_content_type"."model" IN ('logentry')); args=('admin', 'logentry'); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.016) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (1) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(1,); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'admin'; args=('admin',); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'auth'; args=('auth',); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'auth' AND "django_content_type"."model" IN ('permission', 'user', 'group')); args=('auth', 'permission', 'user', 'group'); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (2, 3, 4) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(2, 3, 4); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'auth'; args=('auth',); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'contenttypes'; args=('contenttypes',); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'contenttypes' AND "django_content_type"."model" IN ('contenttype')); args=('contenttypes', 'contenttype'); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (5) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(5,); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'contenttypes'; args=('contenttypes',); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'sessions'; args=('sessions',); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'sessions' AND "django_content_type"."model" IN ('session')); args=('sessions', 'session'); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (6) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(6,); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'sessions'; args=('sessions',); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'api'; args=('api',); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'api' AND "django_content_type"."model" IN ('motivo', 'formulariotemporal', 'formulario', 'vwweeklycomparison', 'vwpredictionsummary', 'vwdesirestracking', 'solucion', 'ventana', 'administrador', 'vwheartratetimeline', 'permiso', 'analisis', 'vwdesiresstats', 'consumidor', 'vwpredictiontimeline', 'vwhabittracking', 'notificacion', 'vwdailysummary', 'usuario', 'deseo', 'habito', 'emocion', 'vwheartratestats', 'vwhabitstats', 'lectura')); args=('api', 'motivo', 'formulariotemporal', 'formulario', 'vwweeklycomparison', 'vwpredictionsummary', 'vwdesirestracking', 'solucion', 'ventana', 'administrador', 'vwheartratetimeline', 'permiso', 'analisis', 'vwdesiresstats', 'consumidor', 'vwpredictiontimeline', 'vwhabittracking', 'notificacion', 'vwdailysummary', 'usuario', 'deseo', 'habito', 'emocion', 'vwheartratestats', 'vwhabitstats', 'lectura'); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(8, 9, 10, 11, 12, 13, 14, 15, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25, 26, 27, 28, 29, 30, 31, 32); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'api'; args=('api',); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'rest_framework_simplejwt'; args=('rest_framework_simplejwt',); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'rest_framework_simplejwt'; args=('rest_framework_simplejwt',); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'django_celery_results'; args=('django_celery_results',); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'django_celery_results' AND "django_content_type"."model" IN ('chordcounter', 'taskresult', 'groupresult')); args=('django_celery_results', 'chordcounter', 'taskresult', 'groupresult'); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (33, 34, 35) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(33, 34, 35); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'django_celery_results'; args=('django_celery_results',); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'django_celery_beat'; args=('django_celery_beat',); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE ("django_content_type"."app_label" = 'django_celery_beat' AND "django_content_type"."model" IN ('periodictask', 'clockedschedule', 'solarschedule', 'intervalschedule', 'crontabschedule', 'periodictasks')); args=('django_celery_beat', 'periodictask', 'clockedschedule', 'solarschedule', 'intervalschedule', 'crontabschedule', 'periodictasks'); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "auth_permission"."content_type_id" AS "content_type", "auth_permission"."codename" AS "codename" FROM "auth_permission" INNER JOIN "django_content_type" ON ("auth_permission"."content_type_id" = "django_content_type"."id") WHERE "auth_permission"."content_type_id" IN (36, 37, 38, 39, 40, 41) ORDER BY "django_content_type"."app_label" ASC, "django_content_type"."model" ASC, 2 ASC; args=(36, 37, 38, 39, 40, 41); alias=default
[2025-11-05 10:22:37] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_content_type"."id", "django_content_type"."app_label", "django_content_type"."model" FROM "django_content_type" WHERE "django_content_type"."app_label" = 'django_celery_beat'; args=('django_celery_beat',); alias=default
[2025-11-05 10:23:08] [DEBUG] [django.db.backends:151] (0.000) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:23:08] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:24:24] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/register/ | Action: register
[2025-11-05 10:24:25] [DEBUG] [django.db.backends:151] (0.000) SELECT 1 AS "a" FROM "usuarios" WHERE "usuarios"."email" = 'testjwt6344@test.com' LIMIT 1; args=(Int4(1), 'testjwt6344@test.com'); alias=default
[2025-11-05 10:24:25] [DEBUG] [django.db.backends:181] (0.000) BEGIN; args=None; alias=default
[2025-11-05 10:24:25] [DEBUG] [django.db.backends:151] (0.000) INSERT INTO "usuarios" ("created_at", "updated_at", "nombre", "telefono", "email", "password_hash", "rol") VALUES ('2025-11-05 18:24:25.670855+00:00'::timestamptz, '2025-11-05 18:24:25.670855+00:00'::timestamptz, 'JWT Test User', '1234567890', 'testjwt6344@test.com', 'pbkdf2_sha256$1000000$lhdrMlcZlzSTN0igvD4Lzr$GaOXposlqk0XmPCouDAqlJ255wuOY3ECgTm3NJql9jY=', 'consumidor') RETURNING "usuarios"."id"; args=(datetime.datetime(2025, 11, 5, 18, 24, 25, 670855, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 5, 18, 24, 25, 670855, tzinfo=datetime.timezone.utc), 'JWT Test User', '1234567890', 'testjwt6344@test.com', 'pbkdf2_sha256$1000000$lhdrMlcZlzSTN0igvD4Lzr$GaOXposlqk0XmPCouDAqlJ255wuOY3ECgTm3NJql9jY=', 'consumidor'); alias=default
[2025-11-05 10:24:25] [DEBUG] [django.db.backends:151] (0.000) INSERT INTO "consumidores" ("created_at", "updated_at", "usuario_id", "edad", "peso", "altura", "bmi", "genero") VALUES ('2025-11-05 18:24:25.672843+00:00'::timestamptz, '2025-11-05 18:24:25.672843+00:00'::timestamptz, 20, NULL, NULL, NULL, NULL, 'masculino') RETURNING "consumidores"."id"; args=(datetime.datetime(2025, 11, 5, 18, 24, 25, 672843, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 5, 18, 24, 25, 672843, tzinfo=datetime.timezone.utc), 20, None, None, None, None, 'masculino'); alias=default
[2025-11-05 10:24:25] [INFO] [api.services.user_factory:76] Created Consumidor: testjwt6344@test.com (ID: 20, Profile ID: 12)
[2025-11-05 10:24:25] [DEBUG] [django.db.backends:181] (0.000) COMMIT; args=None; alias=default
[2025-11-05 10:24:25] [INFO] [api.views.UsuarioViewSet:150] [register] New user registered: testjwt6344@test.com (rol: consumidor)
[2025-11-05 10:24:25] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 201 | Action: register
[2025-11-05 10:24:27] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/login/ | Action: login
[2025-11-05 10:24:27] [DEBUG] [django.db.backends:151] (0.000) SELECT "usuarios"."id", "usuarios"."created_at", "usuarios"."updated_at", "usuarios"."nombre", "usuarios"."telefono", "usuarios"."email", "usuarios"."password_hash", "usuarios"."rol" FROM "usuarios" WHERE "usuarios"."email" = 'testjwt6344@test.com' LIMIT 21; args=('testjwt6344@test.com',); alias=default
[2025-11-05 10:24:28] [DEBUG] [django.db.backends:151] (0.000) SELECT "consumidores"."id", "consumidores"."created_at", "consumidores"."updated_at", "consumidores"."usuario_id", "consumidores"."edad", "consumidores"."peso", "consumidores"."altura", "consumidores"."bmi", "consumidores"."genero" FROM "consumidores" WHERE "consumidores"."usuario_id" = 20 LIMIT 21; args=(20,); alias=default
[2025-11-05 10:24:28] [INFO] [api.services.auth_service:123] Successful login: testjwt6344@test.com (rol: consumidor)
[2025-11-05 10:24:28] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 200 | Action: login
[2025-11-05 10:24:30] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ GET /api/usuarios/20/ | Action: retrieve
[2025-11-05 10:24:30] [DEBUG] [django.db.backends:151] (0.000) SELECT "auth_user"."id", "auth_user"."password", "auth_user"."last_login", "auth_user"."is_superuser", "auth_user"."username", "auth_user"."first_name", "auth_user"."last_name", "auth_user"."email", "auth_user"."is_staff", "auth_user"."is_active", "auth_user"."date_joined" FROM "auth_user" WHERE "auth_user"."id" = 20 LIMIT 21; args=(20,); alias=default
[2025-11-05 10:24:30] [ERROR] [api.views.UsuarioViewSet:210] [log_exception] AuthenticationFailed: {'detail': ErrorDetail(string='User not found', code='authentication_failed'), 'code': ErrorDetail(string='user_not_found', code='authentication_failed')} | Context: action=retrieve, view=UsuarioViewSet
Traceback (most recent call last):
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework_simplejwt\authentication.py", line 132, in get_user
    user = self.user_model.objects.get(**{api_settings.USER_ID_FIELD: user_id})
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\django\db\models\manager.py", line 87, in manager_method
    return getattr(self.get_queryset(), name)(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\django\db\models\query.py", line 633, in get
    raise self.model.DoesNotExist(
django.contrib.auth.models.User.DoesNotExist: User matching query does not exist.

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 503, in dispatch
    self.initial(request, *args, **kwargs)
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\sentry_sdk\integrations\django\__init__.py", line 332, in sentry_patched_drf_initial
    return old_drf_initial(self, request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 420, in initial
    self.perform_authentication(request)
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 330, in perform_authentication
    request.user
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\request.py", line 232, in user
    self._authenticate()
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\request.py", line 385, in _authenticate
    user_auth_tuple = authenticator.authenticate(self)
                      ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework_simplejwt\authentication.py", line 51, in authenticate
    return self.get_user(validated_token), validated_token
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework_simplejwt\authentication.py", line 134, in get_user
    raise AuthenticationFailed(
rest_framework_simplejwt.exceptions.AuthenticationFailed: {'detail': ErrorDetail(string='User not found', code='authentication_failed'), 'code': ErrorDetail(string='user_not_found', code='authentication_failed')}
[2025-11-05 10:24:30] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ— Response: 401 | Action: retrieve
[2025-11-05 10:24:32] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ GET /api/usuarios/20/ | Action: retrieve
[2025-11-05 10:24:32] [ERROR] [api.views.UsuarioViewSet:210] [log_exception] NotAuthenticated: Authentication credentials were not provided. | Context: action=retrieve, view=UsuarioViewSet
Traceback (most recent call last):
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 503, in dispatch
    self.initial(request, *args, **kwargs)
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\sentry_sdk\integrations\django\__init__.py", line 332, in sentry_patched_drf_initial
    return old_drf_initial(self, request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 421, in initial
    self.check_permissions(request)
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 339, in check_permissions
    self.permission_denied(
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 180, in permission_denied
    raise exceptions.NotAuthenticated()
rest_framework.exceptions.NotAuthenticated: Authentication credentials were not provided.
[2025-11-05 10:24:32] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ— Response: 401 | Action: retrieve
[2025-11-05 10:24:34] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/register/ | Action: register
[2025-11-05 10:24:34] [DEBUG] [django.db.backends:151] (0.000) SELECT 1 AS "a" FROM "usuarios" WHERE "usuarios"."email" = 'testjwt4589@test.com' LIMIT 1; args=(Int4(1), 'testjwt4589@test.com'); alias=default
[2025-11-05 10:24:34] [DEBUG] [django.db.backends:181] (0.000) BEGIN; args=None; alias=default
[2025-11-05 10:24:35] [DEBUG] [django.db.backends:151] (0.000) INSERT INTO "usuarios" ("created_at", "updated_at", "nombre", "telefono", "email", "password_hash", "rol") VALUES ('2025-11-05 18:24:35.470360+00:00'::timestamptz, '2025-11-05 18:24:35.470360+00:00'::timestamptz, 'Test User 2', '', 'testjwt4589@test.com', 'pbkdf2_sha256$1000000$MZGFu1qIhVs4slXp8AwM5J$KA9c4L9/3p7ZIZ04yYP+UcZN+9E+uNZ5jOL5kvk4yIc=', 'consumidor') RETURNING "usuarios"."id"; args=(datetime.datetime(2025, 11, 5, 18, 24, 35, 470360, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 5, 18, 24, 35, 470360, tzinfo=datetime.timezone.utc), 'Test User 2', '', 'testjwt4589@test.com', 'pbkdf2_sha256$1000000$MZGFu1qIhVs4slXp8AwM5J$KA9c4L9/3p7ZIZ04yYP+UcZN+9E+uNZ5jOL5kvk4yIc=', 'consumidor'); alias=default
[2025-11-05 10:24:35] [DEBUG] [django.db.backends:151] (0.000) INSERT INTO "consumidores" ("created_at", "updated_at", "usuario_id", "edad", "peso", "altura", "bmi", "genero") VALUES ('2025-11-05 18:24:35.473341+00:00'::timestamptz, '2025-11-05 18:24:35.473341+00:00'::timestamptz, 21, NULL, NULL, NULL, NULL, NULL) RETURNING "consumidores"."id"; args=(datetime.datetime(2025, 11, 5, 18, 24, 35, 473341, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 5, 18, 24, 35, 473341, tzinfo=datetime.timezone.utc), 21, None, None, None, None, None); alias=default
[2025-11-05 10:24:35] [INFO] [api.services.user_factory:76] Created Consumidor: testjwt4589@test.com (ID: 21, Profile ID: 13)
[2025-11-05 10:24:35] [DEBUG] [django.db.backends:181] (0.015) COMMIT; args=None; alias=default
[2025-11-05 10:24:35] [INFO] [api.views.UsuarioViewSet:150] [register] New user registered: testjwt4589@test.com (rol: consumidor)
[2025-11-05 10:24:35] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 201 | Action: register
[2025-11-05 10:27:51] [DEBUG] [django.db.backends:151] (0.000) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:27:51] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:29:16] [DEBUG] [django.db.backends:151] (0.000) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:29:16] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:29:24] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/register/ | Action: register
[2025-11-05 10:29:24] [DEBUG] [django.db.backends:151] (0.015) SELECT 1 AS "a" FROM "usuarios" WHERE "usuarios"."email" = 'testjwt5100@test.com' LIMIT 1; args=(Int4(1), 'testjwt5100@test.com'); alias=default
[2025-11-05 10:29:24] [DEBUG] [django.db.backends:181] (0.000) BEGIN; args=None; alias=default
[2025-11-05 10:29:25] [DEBUG] [django.db.backends:151] (0.000) INSERT INTO "usuarios" ("created_at", "updated_at", "nombre", "telefono", "email", "password_hash", "rol") VALUES ('2025-11-05 18:29:25.446266+00:00'::timestamptz, '2025-11-05 18:29:25.446266+00:00'::timestamptz, 'JWT Test User', '1234567890', 'testjwt5100@test.com', 'pbkdf2_sha256$1000000$D45Zs4IOzL5tpdKrgGUymz$bQ7fSf7KRjElJtPRRQmE4u2R79hxa8//WXaoL+mTVaI=', 'consumidor') RETURNING "usuarios"."id"; args=(datetime.datetime(2025, 11, 5, 18, 29, 25, 446266, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 5, 18, 29, 25, 446266, tzinfo=datetime.timezone.utc), 'JWT Test User', '1234567890', 'testjwt5100@test.com', 'pbkdf2_sha256$1000000$D45Zs4IOzL5tpdKrgGUymz$bQ7fSf7KRjElJtPRRQmE4u2R79hxa8//WXaoL+mTVaI=', 'consumidor'); alias=default
[2025-11-05 10:29:25] [DEBUG] [django.db.backends:151] (0.000) INSERT INTO "consumidores" ("created_at", "updated_at", "usuario_id", "edad", "peso", "altura", "bmi", "genero") VALUES ('2025-11-05 18:29:25.448259+00:00'::timestamptz, '2025-11-05 18:29:25.448259+00:00'::timestamptz, 22, NULL, NULL, NULL, NULL, 'masculino') RETURNING "consumidores"."id"; args=(datetime.datetime(2025, 11, 5, 18, 29, 25, 448259, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 5, 18, 29, 25, 448259, tzinfo=datetime.timezone.utc), 22, None, None, None, None, 'masculino'); alias=default
[2025-11-05 10:29:25] [INFO] [api.services.user_factory:76] Created Consumidor: testjwt5100@test.com (ID: 22, Profile ID: 14)
[2025-11-05 10:29:25] [DEBUG] [django.db.backends:181] (0.000) COMMIT; args=None; alias=default
[2025-11-05 10:29:25] [INFO] [api.views.UsuarioViewSet:150] [register] New user registered: testjwt5100@test.com (rol: consumidor)
[2025-11-05 10:29:25] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 201 | Action: register
[2025-11-05 10:29:27] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/login/ | Action: login
[2025-11-05 10:29:27] [DEBUG] [django.db.backends:151] (0.000) SELECT "usuarios"."id", "usuarios"."created_at", "usuarios"."updated_at", "usuarios"."nombre", "usuarios"."telefono", "usuarios"."email", "usuarios"."password_hash", "usuarios"."rol" FROM "usuarios" WHERE "usuarios"."email" = 'testjwt5100@test.com' LIMIT 21; args=('testjwt5100@test.com',); alias=default
[2025-11-05 10:29:28] [DEBUG] [django.db.backends:151] (0.016) SELECT "consumidores"."id", "consumidores"."created_at", "consumidores"."updated_at", "consumidores"."usuario_id", "consumidores"."edad", "consumidores"."peso", "consumidores"."altura", "consumidores"."bmi", "consumidores"."genero" FROM "consumidores" WHERE "consumidores"."usuario_id" = 22 LIMIT 21; args=(22,); alias=default
[2025-11-05 10:29:28] [INFO] [api.services.auth_service:123] Successful login: testjwt5100@test.com (rol: consumidor)
[2025-11-05 10:29:28] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 200 | Action: login
[2025-11-05 10:29:30] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ GET /api/usuarios/22/ | Action: retrieve
[2025-11-05 10:29:30] [DEBUG] [django.db.backends:151] (0.000) SELECT "usuarios"."id", "usuarios"."created_at", "usuarios"."updated_at", "usuarios"."nombre", "usuarios"."telefono", "usuarios"."email", "usuarios"."password_hash", "usuarios"."rol" FROM "usuarios" WHERE "usuarios"."id" = 22 LIMIT 21; args=(22,); alias=default
[2025-11-05 10:29:30] [ERROR] [api.views.UsuarioViewSet:210] [log_exception] AttributeError: 'Usuario' object has no attribute 'is_authenticated' | Context: action=retrieve, view=UsuarioViewSet
Traceback (most recent call last):
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 503, in dispatch
    self.initial(request, *args, **kwargs)
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\sentry_sdk\integrations\django\__init__.py", line 332, in sentry_patched_drf_initial
    return old_drf_initial(self, request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 421, in initial
    self.check_permissions(request)
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 338, in check_permissions
    if not permission.has_permission(request, self):
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\permissions.py", line 151, in has_permission
    return bool(request.user and request.user.is_authenticated)
                                 ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Usuario' object has no attribute 'is_authenticated'
[2025-11-05 10:29:32] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ GET /api/usuarios/22/ | Action: retrieve
[2025-11-05 10:29:32] [ERROR] [api.views.UsuarioViewSet:210] [log_exception] NotAuthenticated: Authentication credentials were not provided. | Context: action=retrieve, view=UsuarioViewSet
Traceback (most recent call last):
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 503, in dispatch
    self.initial(request, *args, **kwargs)
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\sentry_sdk\integrations\django\__init__.py", line 332, in sentry_patched_drf_initial
    return old_drf_initial(self, request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 421, in initial
    self.check_permissions(request)
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 339, in check_permissions
    self.permission_denied(
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 180, in permission_denied
    raise exceptions.NotAuthenticated()
rest_framework.exceptions.NotAuthenticated: Authentication credentials were not provided.
[2025-11-05 10:29:32] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ— Response: 401 | Action: retrieve
[2025-11-05 10:29:34] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/register/ | Action: register
[2025-11-05 10:29:34] [DEBUG] [django.db.backends:151] (0.000) SELECT 1 AS "a" FROM "usuarios" WHERE "usuarios"."email" = 'testjwt2335@test.com' LIMIT 1; args=(Int4(1), 'testjwt2335@test.com'); alias=default
[2025-11-05 10:29:34] [DEBUG] [django.db.backends:181] (0.000) BEGIN; args=None; alias=default
[2025-11-05 10:29:35] [DEBUG] [django.db.backends:151] (0.000) INSERT INTO "usuarios" ("created_at", "updated_at", "nombre", "telefono", "email", "password_hash", "rol") VALUES ('2025-11-05 18:29:35.464203+00:00'::timestamptz, '2025-11-05 18:29:35.464203+00:00'::timestamptz, 'Test User 2', '', 'testjwt2335@test.com', 'pbkdf2_sha256$1000000$IioXpWEXDQYrE77gC2lcIR$wjfioFz1KliHIAm2dO4wnbF8PHS/L4wdXWfWFjsqNBY=', 'consumidor') RETURNING "usuarios"."id"; args=(datetime.datetime(2025, 11, 5, 18, 29, 35, 464203, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 5, 18, 29, 35, 464203, tzinfo=datetime.timezone.utc), 'Test User 2', '', 'testjwt2335@test.com', 'pbkdf2_sha256$1000000$IioXpWEXDQYrE77gC2lcIR$wjfioFz1KliHIAm2dO4wnbF8PHS/L4wdXWfWFjsqNBY=', 'consumidor'); alias=default
[2025-11-05 10:29:35] [DEBUG] [django.db.backends:151] (0.000) INSERT INTO "consumidores" ("created_at", "updated_at", "usuario_id", "edad", "peso", "altura", "bmi", "genero") VALUES ('2025-11-05 18:29:35.466224+00:00'::timestamptz, '2025-11-05 18:29:35.466224+00:00'::timestamptz, 23, NULL, NULL, NULL, NULL, NULL) RETURNING "consumidores"."id"; args=(datetime.datetime(2025, 11, 5, 18, 29, 35, 466224, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 5, 18, 29, 35, 466224, tzinfo=datetime.timezone.utc), 23, None, None, None, None, None); alias=default
[2025-11-05 10:29:35] [INFO] [api.services.user_factory:76] Created Consumidor: testjwt2335@test.com (ID: 23, Profile ID: 15)
[2025-11-05 10:29:35] [DEBUG] [django.db.backends:181] (0.000) COMMIT; args=None; alias=default
[2025-11-05 10:29:35] [INFO] [api.views.UsuarioViewSet:150] [register] New user registered: testjwt2335@test.com (rol: consumidor)
[2025-11-05 10:29:35] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 201 | Action: register
[2025-11-05 10:32:45] [DEBUG] [django.db.backends:151] (0.000) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:32:45] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:32:59] [DEBUG] [django.db.backends:151] (0.000) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:32:59] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:33:15] [DEBUG] [django.db.backends:151] (0.000) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:33:15] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:33:16] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/register/ | Action: register
[2025-11-05 10:33:16] [DEBUG] [django.db.backends:151] (0.000) SELECT 1 AS "a" FROM "usuarios" WHERE "usuarios"."email" = 'testjwt7211@test.com' LIMIT 1; args=(Int4(1), 'testjwt7211@test.com'); alias=default
[2025-11-05 10:33:16] [DEBUG] [django.db.backends:181] (0.000) BEGIN; args=None; alias=default
[2025-11-05 10:33:16] [DEBUG] [django.db.backends:151] (0.000) INSERT INTO "usuarios" ("created_at", "updated_at", "nombre", "telefono", "email", "password_hash", "rol") VALUES ('2025-11-05 18:33:16.918560+00:00'::timestamptz, '2025-11-05 18:33:16.918560+00:00'::timestamptz, 'JWT Test User', '1234567890', 'testjwt7211@test.com', 'pbkdf2_sha256$1000000$4stQ5guVxzew72ATM1Jog0$psNf2c7a54Y9jY08IGQIviFCZUIA9uNAdOX+wv/nCtM=', 'consumidor') RETURNING "usuarios"."id"; args=(datetime.datetime(2025, 11, 5, 18, 33, 16, 918560, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 5, 18, 33, 16, 918560, tzinfo=datetime.timezone.utc), 'JWT Test User', '1234567890', 'testjwt7211@test.com', 'pbkdf2_sha256$1000000$4stQ5guVxzew72ATM1Jog0$psNf2c7a54Y9jY08IGQIviFCZUIA9uNAdOX+wv/nCtM=', 'consumidor'); alias=default
[2025-11-05 10:33:16] [DEBUG] [django.db.backends:151] (0.000) INSERT INTO "consumidores" ("created_at", "updated_at", "usuario_id", "edad", "peso", "altura", "bmi", "genero") VALUES ('2025-11-05 18:33:16.920542+00:00'::timestamptz, '2025-11-05 18:33:16.920542+00:00'::timestamptz, 24, NULL, NULL, NULL, NULL, 'masculino') RETURNING "consumidores"."id"; args=(datetime.datetime(2025, 11, 5, 18, 33, 16, 920542, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 5, 18, 33, 16, 920542, tzinfo=datetime.timezone.utc), 24, None, None, None, None, 'masculino'); alias=default
[2025-11-05 10:33:16] [INFO] [api.services.user_factory:76] Created Consumidor: testjwt7211@test.com (ID: 24, Profile ID: 16)
[2025-11-05 10:33:16] [DEBUG] [django.db.backends:181] (0.000) COMMIT; args=None; alias=default
[2025-11-05 10:33:16] [INFO] [api.views.UsuarioViewSet:150] [register] New user registered: testjwt7211@test.com (rol: consumidor)
[2025-11-05 10:33:16] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 201 | Action: register
[2025-11-05 10:33:19] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/login/ | Action: login
[2025-11-05 10:33:19] [DEBUG] [django.db.backends:151] (0.000) SELECT "usuarios"."id", "usuarios"."created_at", "usuarios"."updated_at", "usuarios"."nombre", "usuarios"."telefono", "usuarios"."email", "usuarios"."password_hash", "usuarios"."rol" FROM "usuarios" WHERE "usuarios"."email" = 'testjwt7211@test.com' LIMIT 21; args=('testjwt7211@test.com',); alias=default
[2025-11-05 10:33:19] [DEBUG] [django.db.backends:151] (0.000) SELECT "consumidores"."id", "consumidores"."created_at", "consumidores"."updated_at", "consumidores"."usuario_id", "consumidores"."edad", "consumidores"."peso", "consumidores"."altura", "consumidores"."bmi", "consumidores"."genero" FROM "consumidores" WHERE "consumidores"."usuario_id" = 24 LIMIT 21; args=(24,); alias=default
[2025-11-05 10:33:19] [INFO] [api.services.auth_service:123] Successful login: testjwt7211@test.com (rol: consumidor)
[2025-11-05 10:33:19] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 200 | Action: login
[2025-11-05 10:33:21] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ GET /api/usuarios/24/ | Action: retrieve
[2025-11-05 10:33:21] [DEBUG] [django.db.backends:151] (0.015) SELECT "usuarios"."id", "usuarios"."created_at", "usuarios"."updated_at", "usuarios"."nombre", "usuarios"."telefono", "usuarios"."email", "usuarios"."password_hash", "usuarios"."rol" FROM "usuarios" WHERE "usuarios"."id" = 24 LIMIT 21; args=(24,); alias=default
[2025-11-05 10:33:21] [DEBUG] [django.db.backends:151] (0.000) SELECT "usuarios"."id", "usuarios"."created_at", "usuarios"."updated_at", "usuarios"."nombre", "usuarios"."telefono", "usuarios"."email", "usuarios"."password_hash", "usuarios"."rol" FROM "usuarios" WHERE "usuarios"."id" = 24 LIMIT 21; args=(24,); alias=default
[2025-11-05 10:33:21] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 200 | Action: retrieve
[2025-11-05 10:33:23] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ GET /api/usuarios/24/ | Action: retrieve
[2025-11-05 10:33:23] [ERROR] [api.views.UsuarioViewSet:210] [log_exception] NotAuthenticated: Authentication credentials were not provided. | Context: action=retrieve, view=UsuarioViewSet
Traceback (most recent call last):
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 503, in dispatch
    self.initial(request, *args, **kwargs)
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\sentry_sdk\integrations\django\__init__.py", line 332, in sentry_patched_drf_initial
    return old_drf_initial(self, request, *args, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 421, in initial
    self.check_permissions(request)
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 339, in check_permissions
    self.permission_denied(
  File "C:\Users\MSI\Desktop\9B\Proyecto 9B\API_wearable\env\Lib\site-packages\rest_framework\views.py", line 180, in permission_denied
    raise exceptions.NotAuthenticated()
rest_framework.exceptions.NotAuthenticated: Authentication credentials were not provided.
[2025-11-05 10:33:23] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ— Response: 401 | Action: retrieve
[2025-11-05 10:33:25] [INFO] [api.views.UsuarioViewSet:35] [initialize_request] ðŸ“¥ POST /api/usuarios/register/ | Action: register
[2025-11-05 10:33:25] [DEBUG] [django.db.backends:151] (0.015) SELECT 1 AS "a" FROM "usuarios" WHERE "usuarios"."email" = 'testjwt8236@test.com' LIMIT 1; args=(Int4(1), 'testjwt8236@test.com'); alias=default
[2025-11-05 10:33:25] [DEBUG] [django.db.backends:181] (0.000) BEGIN; args=None; alias=default
[2025-11-05 10:33:26] [DEBUG] [django.db.backends:151] (0.000) INSERT INTO "usuarios" ("created_at", "updated_at", "nombre", "telefono", "email", "password_hash", "rol") VALUES ('2025-11-05 18:33:26.558355+00:00'::timestamptz, '2025-11-05 18:33:26.559353+00:00'::timestamptz, 'Test User 2', '', 'testjwt8236@test.com', 'pbkdf2_sha256$1000000$hvKlOTMpn5PVnUG9qx5dTl$o17Xh30aGW2hjlqHxw+mIAjJccxLzv/ROXDbWol0V6M=', 'consumidor') RETURNING "usuarios"."id"; args=(datetime.datetime(2025, 11, 5, 18, 33, 26, 558355, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 5, 18, 33, 26, 559353, tzinfo=datetime.timezone.utc), 'Test User 2', '', 'testjwt8236@test.com', 'pbkdf2_sha256$1000000$hvKlOTMpn5PVnUG9qx5dTl$o17Xh30aGW2hjlqHxw+mIAjJccxLzv/ROXDbWol0V6M=', 'consumidor'); alias=default
[2025-11-05 10:33:26] [DEBUG] [django.db.backends:151] (0.000) INSERT INTO "consumidores" ("created_at", "updated_at", "usuario_id", "edad", "peso", "altura", "bmi", "genero") VALUES ('2025-11-05 18:33:26.560364+00:00'::timestamptz, '2025-11-05 18:33:26.560364+00:00'::timestamptz, 25, NULL, NULL, NULL, NULL, NULL) RETURNING "consumidores"."id"; args=(datetime.datetime(2025, 11, 5, 18, 33, 26, 560364, tzinfo=datetime.timezone.utc), datetime.datetime(2025, 11, 5, 18, 33, 26, 560364, tzinfo=datetime.timezone.utc), 25, None, None, None, None, None); alias=default
[2025-11-05 10:33:26] [INFO] [api.services.user_factory:76] Created Consumidor: testjwt8236@test.com (ID: 25, Profile ID: 17)
[2025-11-05 10:33:26] [DEBUG] [django.db.backends:181] (0.000) COMMIT; args=None; alias=default
[2025-11-05 10:33:26] [INFO] [api.views.UsuarioViewSet:150] [register] New user registered: testjwt8236@test.com (rol: consumidor)
[2025-11-05 10:33:26] [INFO] [api.views.UsuarioViewSet:46] [finalize_response] ðŸ“¤ âœ“ Response: 201 | Action: register
[2025-11-05 10:34:45] [DEBUG] [django.db.backends:151] (0.000) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:34:45] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:34:55] [DEBUG] [django.db.backends:151] (0.000) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:34:55] [DEBUG] [django.db.backends:151] (0.015) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:35:15] [DEBUG] [django.db.backends:151] (0.016) 
            SELECT
                c.relname,
                CASE
                    WHEN c.relispartition THEN 'p'
                    WHEN c.relkind IN ('m', 'v') THEN 'v'
                    ELSE 't'
                END,
                obj_description(c.oid, 'pg_class')
            FROM pg_catalog.pg_class c
            LEFT JOIN pg_catalog.pg_namespace n ON n.oid = c.relnamespace
            WHERE c.relkind IN ('f', 'm', 'p', 'r', 'v')
                AND n.nspname NOT IN ('pg_catalog', 'pg_toast')
                AND pg_catalog.pg_table_is_visible(c.oid)
        ; args=None; alias=default
[2025-11-05 10:35:15] [DEBUG] [django.db.backends:151] (0.000) SELECT "django_migrations"."id", "django_migrations"."app", "django_migrations"."name", "django_migrations"."applied" FROM "django_migrations"; args=(); alias=default
[2025-11-05 10:35:40] [INFO] [api.views.UsuarioViewSet:16] [initialize_request] ðŸ“¥ POST /api/usuarios/login/ | Action: login
[2025-11-05 10:35:40] [DEBUG] [django.db.backends:151] (0.000) SELECT "usuarios"."id", "usuarios"."created_at", "usuarios"."updated_at", "usuarios"."nombre", "usuarios"."telefono", "usuarios"."email", "usuarios"."password_hash", "usuarios"."rol" FROM "usuarios" WHERE "usuarios"."email" = 'esteban321@gmail.com' LIMIT 21; args=('esteban321@gmail.com',); alias=default
[2025-11-05 10:35:40] [DEBUG] [django.db.backends:151] (0.016) SELECT "consumidores"."id", "consumidores"."created_at", "consumidores"."updated_at", "consumidores"."usuario_id", "consumidores"."edad", "consumidores"."peso", "consumidores"."altura", "consumidores"."bmi", "consumidores"."genero" FROM "consumidores" WHERE "consumidores"."usuario_id" = 17 LIMIT 21; args=(17,); alias=default
[2025-11-05 10:35:40] [INFO] [api.services.auth_service:67] Successful login: esteban321@gmail.com (rol: consumidor)
[2025-11-05 10:35:40] [INFO] [api.views.UsuarioViewSet:26] [finalize_response] ðŸ“¤ âœ“ Response: 200 | Action: login
